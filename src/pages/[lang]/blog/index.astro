---
import Layout from '../../../layouts/Layout.astro';
import ArticleCard from '../../../components/ArticleCard.jsx';

export async function getStaticPaths() {
  return [
    { params: { lang: 'el' } },
    { params: { lang: 'en' } },
  ];
}

const { lang } = Astro.params;

const articles = [
  {
    id: 1,
    title: lang === 'el' ? 'Δοκιμαστικό άρθρο' : 'Test article',
    excerpt: 'Αυτό είναι ένα άρθρο mock για δοκιμή.',
    cover_image: '/demo.jpg',
    slug: `demo-${lang}`,
  },
];

function getAltLang(current) {
  return current === 'el' ? 'en' : 'el';
}

const pageTitle = lang === 'en' ? 'Articles | Hitlift' : 'Άρθρα | Hitlift';
const pageDesc = lang === 'en'
  ? 'Explore the latest articles from Hitlift about real estate, strategy and clarity.'
  : 'Δες τα τελευταία άρθρα της Hitlift για ακίνητα, στρατηγική και καθαρή σκέψη.';
---

<Layout title={pageTitle} lang={lang}>
  <head slot="head">
    <meta charset="UTF-8" />
    <meta name="description" content={pageDesc} />
    <meta property="og:title" content={pageTitle} />
    <meta property="og:description" content={pageDesc} />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/preview-image.png" />
    <title>{pageTitle}</title>
  </head>

  <main class="max-w-6xl mx-auto px-4 py-16">
    <h1 class="text-3xl font-bold text-center mb-10">
      {lang === 'en' ? 'Articles' : 'Άρθρα'}
    </h1>

    <section class="grid gap-12 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
      {articles.map((article) => {
        const altLang = getAltLang(lang);
        const translatedSlug = article.slug.replace(`-${lang}`, `-${altLang}`);

        return (
          <div class="space-y-2">
            <ArticleCard
              title={article.title}
              excerpt={article.excerpt}
              image={article.cover_image}
              href={`/${lang}/blog/${article.slug}`}
              lang={lang}
            />
            <p class="text-sm text-right">
              <a
                href={`/${altLang}/blog/${translatedSlug}`}
                class="text-[#50c7c2] hover:underline"
              >
                {lang === 'el' ? 'Δες και στα Αγγλικά →' : 'View in Greek →'}
              </a>
            </p>
          </div>
        );
      })}
    </section>
  </main>
</Layout>
