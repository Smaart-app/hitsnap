---
export const prerender = false;

const acceptLang = Astro.request.headers.get('accept-language') || '';
const isGreek =
  acceptLang.toLowerCase().startsWith('el') ||
  acceptLang.toLowerCase().includes('el-gr');

const lang = isGreek ? 'el' : 'en';

try {
  return Astro.redirect(`/${lang}`);
} catch (err) {
  // fallback if redirect fails
}
---

<html lang={lang}>
  <head>
    <title>Redirecting...</title>
    <meta http-equiv="refresh" content={`0; url=/${lang}`} />
  </head>
  <body style="background:#f4f3f0;text-align:center;padding:4rem;font-family:sans-serif">
    <h1>🔁 Redirecting to your preferred language...</h1>
    <p>If you are not redirected, <a href={`/${lang}`}>click here</a>.</p>
  </body>
</html>
